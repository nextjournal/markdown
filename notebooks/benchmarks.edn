{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [{:title "Some Naïve Benchmarks", :emoji "⏱", :path "#some-naïve-benchmarks", :items []}], :nextjournal/render-opts {:toc-visibility false, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #viewer-fn nextjournal.clerk.render.navbar/render-items, :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility false, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns benchmarks), :file "notebooks/benchmarks.clj", :scope benchmarks, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../"} "Index"] [:span.mx-2 "•"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://github.com/nextjournal/markdown/blob/351c26fabbd7ad161327f0f9f0a366c276693c29/notebooks/benchmarks.clj"} "notebooks/benchmarks.clj" [:<> "@" [:span.tabular-nums "351c26f"]]]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title "⏱ Some Naïve Benchmarks", :description "Compare with different set of tokenizers"}, :title "⏱ Some Naïve Benchmarks", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "user/markdown-5dt7mDqSnEGpux9MtsKjPRraJyQALK"} ["h1" {:id "some-naïve-benchmarks"} [:<> "⏱ Some Naïve Benchmarks"]]], :nextjournal/render-opts {:id "user/markdown-5dt7mDqSnEGpux9MtsKjPRraJyQALK"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(ns benchmarks\n  {:nextjournal.clerk/no-cache true}\n  (:require [clojure.test :refer :all]\n            [nextjournal.clerk.eval :as clerk.eval]\n            [nextjournal.markdown :as md]\n            [nextjournal.markdown.graaljs :as old-md]\n            [nextjournal.markdown.utils :as u]\n            [parsing-extensibility]))", :nextjournal/render-opts {:loc {:line 2, :end-line 9, :column 1, :end-column 38}, :id "benchmarks/anon-expr-5dr2hXso69M88oxct2N7VD5J8763gp-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def reference-text (slurp \"notebooks/reference.md\"))", :nextjournal/render-opts {:loc {:line 11, :end-line 11, :column 1, :end-column 54}, :id "benchmarks/reference-text-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value ["# Referenz\n\n## Absätze\n\nLorem ipsum dolor sit amet, consectetuer adipiscing elit" {:nextjournal/value {:n 80, :path [1], :total 19349, :offset 80, :replace-path [1 80]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-elision, :hash "5drduatKq2QJCDhSX1Pu45i4whSPHk"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-quoted-string, :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}, :nextjournal/render-opts {:id "benchmarks/reference-text-result-1"}}, :nextjournal/blob-id "8Vv34P4iBJKkeSMbvryYQ9GnKqsskeuQvitaAZMfMocZkkCdFe7aqABR4M5zUsbayV6CztFmyu9x9yJiVVMpJvUqWi"}, :nextjournal/render-opts {:id "benchmarks/reference-text-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defmacro time-ms [& expr]\n  `(-> (clerk.eval/time-ms (dotimes [_# 100] ~@expr)) :time-ms (/ 100)))", :nextjournal/render-opts {:loc {:line 13, :end-line 14, :column 1, :end-column 73}, :id "benchmarks/time-ms-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[benchmarks$time_ms 0x2586ccb7 \"benchmarks$time_ms@2586ccb7\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "benchmarks/time-ms-result-1"}}, :nextjournal/blob-id "G__21160"}, :nextjournal/render-opts {:id "benchmarks/time-ms-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dqse1wKtecnvw58xDt2cpKRnq6T8y"} [:p [:<> "Compare with different set of tokenizers"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dqse1wKtecnvw58xDt2cpKRnq6T8y"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn parse\n  ([text] (parse [] text))\n  ([extra-tokenizers text]\n   (md/parse* (assoc u/empty-doc :text-tokenizers extra-tokenizers)\n              text)))", :nextjournal/render-opts {:loc {:line 18, :end-line 22, :column 1, :end-column 22}, :id "benchmarks/parse-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[benchmarks$parse 0x463a8e5a \"benchmarks$parse@463a8e5a\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #viewer-fn (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x)))), :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "benchmarks/parse-result-1"}}, :nextjournal/blob-id "G__21162"}, :nextjournal/render-opts {:id "benchmarks/parse-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(-> (parse reference-text) :content count)", :nextjournal/render-opts {:loc {:line 24, :end-line 24, :column 1, :end-column 43}, :id "benchmarks/anon-expr-5dsqR9zHCmrUwdCcXuXG8Au73p4K5t-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 79, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dsqR9zHCmrUwdCcXuXG8Au73p4K5t-result-1"}}, :nextjournal/blob-id "8VvfzAnWQPv2s2P7ZxLwUH4y23eRL9hV6CujunX83onz6Vd56zoh8Gs1HkQJePJgSEpSxL3qRkcDZDBgrfChX5R781"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dsqR9zHCmrUwdCcXuXG8Au73p4K5t-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dtka5AJ8cdULKvCfr7iB27xUiC13D"} [:p [:<> "Default set of tokenizers, warmup"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dtka5AJ8cdULKvCfr7iB27xUiC13D"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "[(time-ms (parse reference-text))\n (time-ms (parse reference-text))\n (time-ms (parse reference-text))]", :nextjournal/render-opts {:loc {:line 27, :end-line 29, :column 1, :end-column 35}, :id "benchmarks/anon-expr-5dtpe8LzLRBfCpUbGKtzTUDhxDfwUi-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 6.50770781, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 4.23590229, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 3.9589288, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "[", :closing-paren ("]"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtpe8LzLRBfCpUbGKtzTUDhxDfwUi-result-1"}}, :nextjournal/blob-id "8VxcXM9mB9Jf3uJXSTNSuy5Y7XTehgq5ThLiA9HpkN1FDhF4V8w65NF4mqPmPnc2diP4m8K9x7Dk9YsAicTPan7ZpE"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtpe8LzLRBfCpUbGKtzTUDhxDfwUi-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5drkMuQEY5n3v3s6xrgBnR9sLeCCTG"} [:p [:<> "GraalJS based implementation"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5drkMuQEY5n3v3s6xrgBnR9sLeCCTG"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "[(time-ms (old-md/parse reference-text))\n (time-ms (old-md/parse reference-text))\n (time-ms (old-md/parse reference-text))]", :nextjournal/render-opts {:loc {:line 32, :end-line 34, :column 1, :end-column 42}, :id "benchmarks/anon-expr-5du2jUJ7SsCRuRrAZECw3j4HQy1cfc-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 76.51505799, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 55.14991130000001, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 54.49331657, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-coll, :opening-paren "[", :closing-paren ("]"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5du2jUJ7SsCRuRrAZECw3j4HQy1cfc-result-1"}}, :nextjournal/blob-id "8Vt5wkdQASa6AeqEnurYqajSJ8DD2W8UhFs4PAtcUPxqZ9Kh29F4wozGoY1dVWyvxk3Pr3QNpKqZ27zA5zL2jzjMuF"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5du2jUJ7SsCRuRrAZECw3j4HQy1cfc-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dt419cyM5BtfGXS6mWpK2m8vRitAf"} [:p [:<> "With an extra brace-brace parser"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dt419cyM5BtfGXS6mWpK2m8vRitAf"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(time-ms (parse [{:regex #\"\\{\\{([^\\{]+)\\}\\}\"\n                  :handler (fn [m] {:type :var :text (m 1)})}]\n                reference-text))", :nextjournal/render-opts {:loc {:line 37, :end-line 39, :column 1, :end-column 33}, :id "benchmarks/anon-expr-5dtuvgjS6LSdLkKivAWYMqR1nW3k5c-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 6.103670439999999, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtuvgjS6LSdLkKivAWYMqR1nW3k5c-result-1"}}, :nextjournal/blob-id "8VwBP9SCJTM3SbWM1b5jEfYX1hSpEhEiFz91CvnDdvvnhJx9nkhuUbDZvhxHqpekGJiTNqjg7EiuRL8axtGXPexsRS"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtuvgjS6LSdLkKivAWYMqR1nW3k5c-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5drbSqAXUexXmiQNrPjCs2ZcUZLtJr"} [:p [:<> "With the losange reader"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5drbSqAXUexXmiQNrPjCs2ZcUZLtJr"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(time-ms (parse [{:regex #\"\\{\\{([^\\{]+)\\}\\}\"\n                  :handler (fn [m] {:type :var :text (m 1)})}\n                 {:tokenizer-fn parsing-extensibility/losange-tokenizer-fn\n                  :handler (fn [data] {:type :losange :data data})}]\n                reference-text))", :nextjournal/render-opts {:loc {:line 42, :end-line 46, :column 1, :end-column 33}, :id "benchmarks/anon-expr-5duK2QS1tgWLD7995apRoaAxnhHM5K-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 4.40045364, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5duK2QS1tgWLD7995apRoaAxnhHM5K-result-1"}}, :nextjournal/blob-id "8VuTzomebiPoV8nrnou16Me9Rm12FMLLNSep9j8deSgDzcFzVka5mq8MgWXh6biNeqobyGaAjWWNY4oREs7SVnXiF7"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5duK2QS1tgWLD7995apRoaAxnhHM5K-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dsgpf9TfqvPm1ZeVU8UP1eLzvoHqi"} [:p [:<> "With hashtags and internal links"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dsgpf9TfqvPm1ZeVU8UP1eLzvoHqi"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(time-ms\n (parse [u/hashtag-tokenizer\n         u/internal-link-tokenizer\n         {:regex #\"\\{\\{([^\\{]+)\\}\\}\"\n          :handler (fn [m] {:type :var :text (m 1)})}\n         {:tokenizer-fn parsing-extensibility/losange-tokenizer-fn\n          :handler (fn [data] {:type :losange :data data})}]\n        reference-text))", :nextjournal/render-opts {:loc {:line 49, :end-line 56, :column 1, :end-column 25}, :id "benchmarks/anon-expr-5drWkUqGnDSYgR3MtwumrZZr4f81Lb-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-code-block, :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 8.39003748, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-number, :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5drWkUqGnDSYgR3MtwumrZZr4f81Lb-result-1"}}, :nextjournal/blob-id "8VwVSs6rtXnYP8tz1SSy59GwLboEg5kxZH2jEpFL21v5eha6dZccvgnV7RPAuUfExQRYnEkopUhRRzz8Rx97Mj3KqK"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5drWkUqGnDSYgR3MtwumrZZr4f81Lb-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}