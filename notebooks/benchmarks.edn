{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [{:title "Some Naïve Benchmarks", :emoji "⏱", :path "#some-naïve-benchmarks", :items []}], :nextjournal/render-opts {:toc-visibility false, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.navbar/render-items], :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility false, :atom-var-name->state {}, :ns #clerk/render-fn+opts [{:eval true} (ns benchmarks)], :file "notebooks/benchmarks.clj", :scope benchmarks, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../"} "Index"] [:span.mx-2 "•"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://github.com/nextjournal/markdown/blob/cfd3d4bc8ba0c95f56b61d90d635c32f79715309/notebooks/benchmarks.clj"} "notebooks/benchmarks.clj" [:<> "@" [:span.tabular-nums "cfd3d4b"]]]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title "⏱ Some Naïve Benchmarks", :description "Compare with different set of tokenizers"}, :title "⏱ Some Naïve Benchmarks", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "user/markdown-5dt7mDqSnEGpux9MtsKjPRraJyQALK"} ["h1" {:id "some-naïve-benchmarks"} [:<> "⏱ Some Naïve Benchmarks"]]], :nextjournal/render-opts {:id "user/markdown-5dt7mDqSnEGpux9MtsKjPRraJyQALK"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(ns benchmarks\n  {:nextjournal.clerk/no-cache true}\n  (:require [clojure.test :refer :all]\n            [nextjournal.clerk.eval :as clerk.eval]\n            [nextjournal.markdown :as md]\n            [nextjournal.markdown.graaljs :as old-md]\n            [nextjournal.markdown.utils :as u]\n            [parsing-extensibility]))", :nextjournal/render-opts {:loc {:line 2, :end-line 9, :column 1, :end-column 38}, :id "user/anon-expr-5dr2hXso69M88oxct2N7VD5J8763gp-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(def reference-text (slurp \"notebooks/reference.md\"))", :nextjournal/render-opts {:loc {:line 11, :end-line 11, :column 1, :end-column 54}, :id "benchmarks/reference-text-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value ["# Referenz\n\n## Absätze\n\nLorem ipsum dolor sit amet, consectetuer adipiscing elit" {:nextjournal/value {:n 80, :path [1], :total 19349, :offset 80, :replace-path [1 80]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/elision-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-elision], :hash "5drduatKq2QJCDhSX1Pu45i4whSPHk"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/string-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-quoted-string], :opening-paren "\"", :closing-paren ("\""), :page-size 80, :hash "5dsDiKZaSjZpuyav79P69dRKiDtE2s"}, :nextjournal/render-opts {:id "benchmarks/reference-text-result-1"}}, :nextjournal/blob-id "8Vv34P4iBJKkeSMbvryYQ9GnKqsskeuQvitaAZMfMocZkkCdFe7aqABR4M5zUsbayV6CztFmyu9x9yJiVVMpJvUqWi"}, :nextjournal/render-opts {:id "benchmarks/reference-text-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defmacro time-ms [& expr]\n  `(-> (clerk.eval/time-ms (dotimes [_# 100] ~@expr)) :time-ms (/ 100)))", :nextjournal/render-opts {:loc {:line 13, :end-line 14, :column 1, :end-column 73}, :id "benchmarks/time-ms-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[benchmarks$time_ms 0x355a0cfb \"benchmarks$time_ms@355a0cfb\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "benchmarks/time-ms-result-1"}}, :nextjournal/blob-id "G__18354"}, :nextjournal/render-opts {:id "benchmarks/time-ms-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dqse1wKtecnvw58xDt2cpKRnq6T8y"} [:p [:<> "Compare with different set of tokenizers"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dqse1wKtecnvw58xDt2cpKRnq6T8y"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(defn parse\n  ([text] (parse [] text))\n  ([extra-tokenizers text]\n   (md/parse* (assoc u/empty-doc :text-tokenizers extra-tokenizers)\n              text)))", :nextjournal/render-opts {:loc {:line 18, :end-line 22, :column 1, :end-column 22}, :id "benchmarks/parse-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value "#object[benchmarks$parse 0x4dc944bc \"benchmarks$parse@4dc944bc\"]", :nextjournal/viewer {:name nextjournal.clerk.viewer/read+inspect-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [x] (try [nextjournal.clerk.render/inspect (nextjournal.clerk.viewer/read-string-without-tag-table x)] (catch js/Error _e (nextjournal.clerk.render/render-unreadable-edn x))))], :hash "5dt2ru159tAMavCJULP69Zvz1i4Zfd"}, :nextjournal/render-opts {:id "benchmarks/parse-result-1"}}, :nextjournal/blob-id "G__18356"}, :nextjournal/render-opts {:id "benchmarks/parse-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(-> (parse reference-text) :content count)", :nextjournal/render-opts {:loc {:line 24, :end-line 24, :column 1, :end-column 43}, :id "benchmarks/anon-expr-5dsqR9zHCmrUwdCcXuXG8Au73p4K5t-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 79, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dsqR9zHCmrUwdCcXuXG8Au73p4K5t-result-1"}}, :nextjournal/blob-id "8VvfzAnWQPv2s2P7ZxLwUH4y23eRL9hV6CujunX83onz6Vd56zoh8Gs1HkQJePJgSEpSxL3qRkcDZDBgrfChX5R781"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dsqR9zHCmrUwdCcXuXG8Au73p4K5t-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dtka5AJ8cdULKvCfr7iB27xUiC13D"} [:p [:<> "Default set of tokenizers, warmup"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dtka5AJ8cdULKvCfr7iB27xUiC13D"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "[(time-ms (parse reference-text))\n (time-ms (parse reference-text))\n (time-ms (parse reference-text))]", :nextjournal/render-opts {:loc {:line 27, :end-line 29, :column 1, :end-column 35}, :id "benchmarks/anon-expr-5dtpe8LzLRBfCpUbGKtzTUDhxDfwUi-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 7.30701906, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 5.87995472, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 4.6444940500000005, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "[", :closing-paren ("]"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtpe8LzLRBfCpUbGKtzTUDhxDfwUi-result-1"}}, :nextjournal/blob-id "8VveDeHDNiQJfkmZV48PiapDjyATMXai6xHNiFJ3xrXjXae8nBmTwFBHSryA7oMo8wu75dgAYafmnjqPWz3n2WSTsf"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtpe8LzLRBfCpUbGKtzTUDhxDfwUi-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5drkMuQEY5n3v3s6xrgBnR9sLeCCTG"} [:p [:<> "GraalJS based implementation"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5drkMuQEY5n3v3s6xrgBnR9sLeCCTG"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "[(time-ms (old-md/parse reference-text))\n (time-ms (old-md/parse reference-text))\n (time-ms (old-md/parse reference-text))]", :nextjournal/render-opts {:loc {:line 32, :end-line 34, :column 1, :end-column 42}, :id "benchmarks/anon-expr-5du2jUJ7SsCRuRrAZECw3j4HQy1cfc-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [{:path [1 0], :nextjournal/value 75.3274293, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 1], :nextjournal/value 55.076403819999996, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}} {:path [1 2], :nextjournal/value 54.70606165, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/vector-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-coll], :opening-paren "[", :closing-paren ("]"), :page-size 20, :hash "5dsD1KJESfc8Dy8gPeGQfZCX2ayE8f"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5du2jUJ7SsCRuRrAZECw3j4HQy1cfc-result-1"}}, :nextjournal/blob-id "8VxkgXg6Rq112k1q7BqRBWmBuYgcaPCyDZQH6SU3YjghGNYN4bnJYZnRdiQzNqvW2o4dpVbBmaSjuhLoUnpUkiYuQC"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5du2jUJ7SsCRuRrAZECw3j4HQy1cfc-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dt419cyM5BtfGXS6mWpK2m8vRitAf"} [:p [:<> "With an extra brace-brace parser"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dt419cyM5BtfGXS6mWpK2m8vRitAf"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(time-ms (parse [{:regex #\"\\{\\{([^\\{]+)\\}\\}\"\n                  :handler (fn [m] {:type :var :text (m 1)})}]\n                reference-text))", :nextjournal/render-opts {:loc {:line 37, :end-line 39, :column 1, :end-column 33}, :id "benchmarks/anon-expr-5dtuvgjS6LSdLkKivAWYMqR1nW3k5c-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 3.79100427, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtuvgjS6LSdLkKivAWYMqR1nW3k5c-result-1"}}, :nextjournal/blob-id "8VtkFkpHtShGUkDJpkE8Prg2aUiaxWPfhia2Y1f3BJHmggS85GQCoR3rRHeckFQ51RAcFRF7yPnn9P5CZ5TkWptDvf"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5dtuvgjS6LSdLkKivAWYMqR1nW3k5c-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5drbSqAXUexXmiQNrPjCs2ZcUZLtJr"} [:p [:<> "With the losange reader"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5drbSqAXUexXmiQNrPjCs2ZcUZLtJr"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(time-ms (parse [{:regex #\"\\{\\{([^\\{]+)\\}\\}\"\n                  :handler (fn [m] {:type :var :text (m 1)})}\n                 {:tokenizer-fn parsing-extensibility/losange-tokenizer-fn\n                  :handler (fn [data] {:type :losange :data data})}]\n                reference-text))", :nextjournal/render-opts {:loc {:line 42, :end-line 46, :column 1, :end-column 33}, :id "benchmarks/anon-expr-5duK2QS1tgWLD7995apRoaAxnhHM5K-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 4.149711229999999, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5duK2QS1tgWLD7995apRoaAxnhHM5K-result-1"}}, :nextjournal/blob-id "8VtnJCQEY7MZWhw1NnB1T3XreUPvXUTKEJAF7yJ73MP4GvP9ntitaAiomuxrfzohKpyN5ZiTbS7rmLUZU3BShxLnGc"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5duK2QS1tgWLD7995apRoaAxnhHM5K-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "benchmarks/markdown-5dsgpf9TfqvPm1ZeVU8UP1eLzvoHqi"} [:p [:<> "With hashtags and internal links"]]], :nextjournal/render-opts {:id "benchmarks/markdown-5dsgpf9TfqvPm1ZeVU8UP1eLzvoHqi"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(time-ms\n (parse [u/hashtag-tokenizer\n         u/internal-link-tokenizer\n         {:regex #\"\\{\\{([^\\{]+)\\}\\}\"\n          :handler (fn [m] {:type :var :text (m 1)})}\n         {:tokenizer-fn parsing-extensibility/losange-tokenizer-fn\n          :handler (fn [data] {:type :losange :data data})}]\n        reference-text))", :nextjournal/render-opts {:loc {:line 49, :end-line 56, :column 1, :end-column 25}, :id "benchmarks/anon-expr-5drWkUqGnDSYgR3MtwumrZZr4f81Lb-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value 6.2765439700000005, :nextjournal/viewer {:name nextjournal.clerk.viewer/number-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-number], :hash "5dr3R1ZvHCoRHpxsQq4D4ARv9BQC7o"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5drWkUqGnDSYgR3MtwumrZZr4f81Lb-result-1"}}, :nextjournal/blob-id "8Vtq9ujgtrHZXF6E8hQrnLp4oHSiS4CxMdvhLxr1iBE6eWPnvkuDX34Z6HuDv6CY4i71jAYJvWr1rFGy6MKgd6jqvn"}, :nextjournal/render-opts {:id "benchmarks/anon-expr-5drWkUqGnDSYgR3MtwumrZZr4f81Lb-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-notebook], :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}