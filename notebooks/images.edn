{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [{:title "Block Level Images", :emoji "üñºÔ∏è", :path "#block-level-images", :items []}], :nextjournal/render-opts {:toc-visibility false, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render.navbar/render-items], :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility false, :atom-var-name->state {}, :ns #clerk/render-fn+opts [{:eval true} (ns images)], :file "notebooks/images.clj", :scope images, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../"} "Index"] [:span.mx-2 "‚Ä¢"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://github.com/nextjournal/markdown/blob/59471a0e286e550da9824397d2e72f13ce45da67/notebooks/images.clj"} "notebooks/images.clj" [:<> "@" [:span.tabular-nums "59471a0"]]]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title "üñºÔ∏è Block Level Images", :description "Unlike commonmark, nextjournal.markdown distinguishes between inline images and block images: image syntax which span a whole line of text produces a direct child of the document and is not wrapped in a paragraph note. Take the following text"}, :title "üñºÔ∏è Block Level Images", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "user/markdown-5dsfXFe1gh2TirtKjAq38doD4Fbc7g"} ["h1" {:id "block-level-images"} [:<> "üñºÔ∏è Block Level Images"]]], :nextjournal/render-opts {:id "user/markdown-5dsfXFe1gh2TirtKjAq38doD4Fbc7g"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "images/markdown-5drAwaYYuMm5FJ2WfRVLLeyfySg9h8"} [:p [:<> "Unlike "] [:a {:href "https://spec.commonmark.org/0.30/#example-571"} [:<> "commonmark"]] [:<> ","] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "nextjournal.markdown distinguishes between inline images and "] [:em [:<> "block images"]] [:<> ": image syntax which span a whole"] [#clerk/render-fn+opts [{:eval true} nextjournal.clerk.render/inspect-presented] {:nextjournal/value [:<> " "], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}] [:<> "line of text produces a direct child of the document and is not wrapped in a paragraph note. Take the following text"]]], :nextjournal/render-opts {:id "images/markdown-5drAwaYYuMm5FJ2WfRVLLeyfySg9h8"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:nextjournal/value [:pre "This example shows how we're parsing images, the following is a _block image_\n\n![block level image](https://images.freeimages.com/images/large-previews/773/koldalen-4-1384902.jpg)\n\nwhile this is an inline ![inline](https://github.com/nextjournal/clerk/actions/workflows/main.yml/badge.svg) image.\n"], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}, :nextjournal/render-opts {:id "images/text-with-images-result"}}, :nextjournal/blob-id "5dsMQRcUR3EqrhAQLn5B1PUa9TM7Gu"}, :nextjournal/render-opts {:id "images/text-with-images-result"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "images/markdown-5drWXJmGM4FXk7EebFiuMepvnJ4rzG"} [:p [:<> "This is parsed as"]]], :nextjournal/render-opts {:id "images/markdown-5drWXJmGM4FXk7EebFiuMepvnJ4rzG"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value {:nextjournal/presented {:path [0], :nextjournal/value "{:content\n [{:type :paragraph,\n   :content\n   [{:type :text,\n     :text\n     \"This example shows how we're parsing images, the following is a \"}\n    {:type :em, :content [{:type :text, :text \"block image\"}]}]}\n  {:type :paragraph,\n   :content\n   [{:type :image,\n     :attrs\n     {:src\n      \"https://images.freeimages.com/images/large-previews/773/koldalen-4-1384902.jpg\",\n      :title nil},\n     :content [{:type :text, :text \"block level image\"}]}]}\n  {:type :paragraph,\n   :content\n   [{:type :text, :text \"while this is an inline \"}\n    {:type :image,\n     :attrs\n     {:src\n      \"https://github.com/nextjournal/clerk/actions/workflows/main.yml/badge.svg\",\n      :title nil},\n     :content [{:type :text, :text \"inline\"}]}\n    {:type :text, :text \" image.\"}]}],\n :type :doc}", :nextjournal/render-opts {:language "clojure", :id "images/anon-expr-5dqx67ktwt5hdqWc6VYuh1vAGaMorA-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code], :hash "5dsJQw12yyyd7TcZEf52VSHxnqnJUC"}}, :nextjournal/blob-id "5dsZSCd3ecM8ddzUEbVZgMyYtZSEsH"}, :nextjournal/render-opts {:language "clojure", :id "images/anon-expr-5dqx67ktwt5hdqWc6VYuh1vAGaMorA-result"}, :nextjournal/visibility {:code :hide, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "images/markdown-5dsnM1kuF49EJXbfz8MHJ8sedTPQJ3"} [:p [:<> "This allows for a different rendering of images, for instance we might want to render block images with a caption:"]]], :nextjournal/render-opts {:id "images/markdown-5dsnM1kuF49EJXbfz8MHJ8sedTPQJ3"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} identity], :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(md.transform/->hiccup\n (assoc md.transform/default-hiccup-renderers\n        :image (fn [{:as _ctx ::md.transform/keys [parent]} {:as node :keys [attrs]}]\n                 (if (= :doc (:type parent))\n                   [:figure.image\n                    [:img (assoc attrs :alt (md.transform/->text node))]\n                    [:figcaption.text-center.mt-1 (md.transform/->text node)]]\n                   [:img.inline (assoc attrs :alt (md.transform/->text node))])))\n (md/parse text-with-images))", :nextjournal/render-opts {:loc {:line 30, :end-line 39, :column 1, :end-column 30}, :id "images/anon-expr-5dqqfK52NBbWHpW2Q5UXaKWkhe6quC-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/code-block-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-code-block], :hash "5dru1FUcVRTRrVKJFbNw4FG2wXmiwB"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value [:div [:p "This example shows how we're parsing images, the following is a " [:em "block image"]] [:p [:img.inline {:src "https://images.freeimages.com/images/large-previews/773/koldalen-4-1384902.jpg", :title nil, :alt "block level image"}]] [:p "while this is an inline " [:img.inline {:src "https://github.com/nextjournal/clerk/actions/workflows/main.yml/badge.svg", :title nil, :alt "inline"}] " image."]], :nextjournal/visibility {:code :show, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-html], :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}, :nextjournal/render-opts {:id "images/anon-expr-5dqqfK52NBbWHpW2Q5UXaKWkhe6quC-result-1"}}, :nextjournal/blob-id "5dsuN1PgjSTZRvNXWqxo1cYbGTz5aT"}, :nextjournal/render-opts {:id "images/anon-expr-5dqqfK52NBbWHpW2Q5UXaKWkhe6quC-result-1"}, :nextjournal/visibility {:code :show, :result :show}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-result], :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs))], :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #clerk/render-fn+opts [{:render-evaluator :sci} nextjournal.clerk.render/render-notebook], :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}