{:path [], :nextjournal/value {:package :directory, :toc {:path [], :nextjournal/value [{:title "Nextjournal Markdown Live Demo", :emoji "‚úèÔ∏è", :path "#nextjournal-markdown-live-demo", :items []}], :nextjournal/render-opts {:toc-visibility false, :set-hash? true}, :nextjournal/viewer {:name nextjournal.clerk.viewer/toc-viewer, :render-fn #viewer-fn nextjournal.clerk.render.navbar/render-items, :hash "5dtesrAmYqLZQQHSMEfFTNpmLtY4nC"}}, :sidenotes? false, :toc-visibility false, :atom-var-name->state #viewer-eval (nextjournal.clerk.render/intern-atoms! {}), :ns #viewer-eval (ns try), :file "notebooks/try.clj", :scope try, :header {:path [], :nextjournal/value [:div.viewer.w-full.max-w-prose.px-8.not-prose.mt-3 [:div.mb-8.text-xs.sans-serif.text-slate-400 nil [:<> [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "./../../"} "Index"] [:span.mx-2 "‚Ä¢"]] [:span "Generated with " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://clerk.vision"} "Clerk"] [:<> " from " [:a.font-medium.border-b.border-dotted.border-slate-300.hover:text-indigo-500.hover:border-indigo-500.dark:border-slate-500.dark:hover:text-white.dark:hover:border-white.transition {:href "https://github.com/nextjournal/markdown/blob/0fe5eed308834cbc7b3f01df5c20cf674fe42be2/notebooks/try.clj"} "notebooks/try.clj" [:<> "@" [:span.tabular-nums "0fe5eed"]]]]]]], :nextjournal/viewer {:name nextjournal.clerk.viewer/html-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-html, :hash "5drpr3yzJ1CcHNbRHnK2sVyn7YUmXB"}}, :open-graph {:type "article:clerk", :title "‚úèÔ∏è Nextjournal Markdown Live Demo", :description "Edit markdown text, see parsed AST and transformed hiccup live. Preview how Clerk renders it."}, :title "‚úèÔ∏è Nextjournal Markdown Live Demo", :blocks [{:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "user/markdown-5dtKYTVFLgoVFMsa1wHig8p46gEssq"} ["h1" {:id "nextjournal-markdown-live-demo"} [:<> "‚úèÔ∏è Nextjournal Markdown Live Demo"]]], :nextjournal/render-opts {:id "user/markdown-5dtKYTVFLgoVFMsa1wHig8p46gEssq"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [:div.viewer.markdown-viewer.w-full.max-w-prose.px-8 {:data-block-id "try/markdown-5dsMwq4iVShwH34R2jJ5YavCiW6EZm"} [:p [:em [:<> "Edit markdown text, see parsed AST and transformed hiccup live. Preview how Clerk renders it."]]]], :nextjournal/render-opts {:id "try/markdown-5dsMwq4iVShwH34R2jJ5YavCiW6EZm"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/markdown-node-viewer, :render-fn #viewer-fn identity, :hash "5dsg4Bx9A9L7WvvCgamUoRtxUsmYCe"}} {:path [], :nextjournal/value [{:path [0], :nextjournal/value "(Object.)", :nextjournal/render-opts {:loc {:line 6, :end-line 32, :column 1, :end-column 10}, :id "try/anon-expr-5dt7UioXVpT7QwpXGNB4Ui6weUuyRk-code"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/folded-code-block-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-folded-code-block, :hash "5dt3F3pXDCJHWEKwRWd1FTwBTC7bQ1"}} {:path [1], :nextjournal/value {:nextjournal/presented {:path [1], :nextjournal/value #object[java.lang.Object 0x21e2fbe1 "java.lang.Object@21e2fbe1"], :nextjournal/width :full, :nextjournal/viewer {:render-fn #viewer-fn (fn [_] (let [init-text "# üëã Hello Markdown\n\n```clojure id=xxyyzzww\n(reduce + [1 2 3])\n```\n## Subsection\n- [x] type **some**\n- [x] ~~nasty~~\n- [ ] _stuff_ here" text->state (fn [text] (let [parsed (md/parse text)] {:parsed parsed, :hiccup (md.transform/->hiccup md.demo/renderers parsed)})) !state (nextjournal.clerk.render.hooks/use-state (text->state init-text))] [:div.grid.grid-cols-2.m-10 [:div.m-2.p-2.text-xl.border-2.overflow-y-scroll.bg-slate-100 {:style {:height "20rem"}} [md.demo/editor {:doc init-text, :on-change (fn* [%1] (reset! !state (text->state %1))), :lang :markdown}]] [:div.m-2.p-2.font-medium.overflow-y-scroll {:style {:height "20rem"}} [md.demo/inspect-expanded (:parsed (clojure.core/deref !state))]] [:div.m-2.p-2.overflow-x-scroll [md.demo/inspect-expanded (:hiccup (clojure.core/deref !state))]] [:div.m-2.p-2.bg-slate-50.viewer-markdown [nextjournal.clerk.viewer/html (:hiccup (clojure.core/deref !state))]]])), :hash "5dtSsZH1XAm99aHztDBjRwXWFq8itT"}, :nextjournal/render-opts {:id "try/anon-expr-5dt7UioXVpT7QwpXGNB4Ui6weUuyRk-result-1"}}, :nextjournal/blob-id "5dtkkz4S4beeQ2LSVUuh8UCpiwN3ve"}, :nextjournal/width :full, :nextjournal/render-opts {:id "try/anon-expr-5dt7UioXVpT7QwpXGNB4Ui6weUuyRk-result-1"}, :nextjournal/viewer {:name nextjournal.clerk.viewer/result-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-result, :hash "5dtGVHesd2XCTLFYF3aY4kJvkrX1x1"}}], :nextjournal/viewer {:name nextjournal.clerk.viewer/cell-viewer, :render-fn #viewer-fn (fn [xs opts] (into [:<>] (nextjournal.clerk.render/inspect-children opts) xs)), :hash "5dtX6xLh3vbeFdswBY6jLXmB8QTqo2"}}]}, :nextjournal/viewer {:name nextjournal.clerk.viewer/notebook-viewer, :render-fn #viewer-fn nextjournal.clerk.render/render-notebook, :hash "5duAFDxE4sCnRX71Wo6zeCpC9C3djE"}}